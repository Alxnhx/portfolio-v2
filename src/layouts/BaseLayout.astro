---
import ThemeSwitch from '../components/ThemeSwitch.astro';
import '../styles/tailwind.css';

interface Props {
  title?: string;
  description?: string;
}

const {
  title = 'Alan Hernández — Desarrollador Java & SQL',
  description = 'Portafolio profesional: casos de estudio con Java, Spring Boot, SQL y buenas prácticas.',
} = Astro.props;
---

<html lang="es" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content={description} />
    <title>{title}</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Sora:wght@600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body class="min-h-screen bg-white text-slate-900 dark:bg-slate-950 dark:text-slate-100">
    {/* NAVBAR */}
    <header class="sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur dark:border-slate-800/70 dark:bg-slate-950/85">
      <nav class="mx-auto flex max-w-5xl items-center justify-between px-6 py-3">
        {/* Logo / nombre */}
        <a href="/" class="flex items-center gap-3">
          <div class="flex h-9 w-9 items-center justify-center rounded-xl border border-sky-400/70 bg-sky-500/15 dark:border-emerald-400/60 dark:bg-emerald-500/10">
            <span class="text-sm font-semibold text-sky-500 dark:text-emerald-400">
              AH
            </span>
          </div>
          <div class="flex flex-col leading-tight">
            <span class="text-sm font-semibold tracking-tight">
              Alan Hernández
            </span>
            <span class="text-[11px] text-slate-500 dark:text-slate-400">
              Java · SQL · Backend
            </span>
          </div>
        </a>

        <div class="flex items-center gap-4">
          {/* PASTILLA DE BOTONES */}
          <div
            class="nav-pill flex h-11 items-center justify-between rounded-full
                   bg-sky-500/95 px-2 text-slate-900 ring-1 ring-sky-300/80
                   dark:bg-slate-900/95 dark:text-slate-100 dark:ring-slate-700"
          >
            {/* Home */}
            <a
              href="/"
              class="nav-pill__btn"
            >
              <span class="sr-only">Inicio</span>
              <svg
                class="h-5 w-5"
                stroke="currentColor"
                fill="currentColor"
                stroke-width="0"
                viewBox="0 0 1024 1024"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M946.5 505 560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"
                />
              </svg>
            </a>

            {/* Proyectos */}
            <a
              href="/proyectos"
              class="nav-pill__btn"
            >
              <span class="sr-only">Proyectos</span>
              <svg
                class="h-5 w-5"
                stroke="currentColor"
                fill="none"
                stroke-width="2"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                />
              </svg>
            </a>

            {/* Sobre mí */}
            <a
              href="/sobre-mi"
              class="nav-pill__btn"
            >
              <span class="sr-only">Sobre mí</span>
              <svg
                class="h-5 w-5"
                stroke="currentColor"
                fill="currentColor"
                stroke-width="0"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 2.5a5.5 5.5 0 0 1 3.096 10.047 9.005 9.005 0 0 1 5.9 8.181.75.75 0 1 1-1.499.044 7.5 7.5 0 0 0-14.993 0 .75.75 0 0 1-1.5-.045 9.005 9.005 0 0 1 5.9-8.18A5.5 5.5 0 0 1 12 2.5ZM8 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"
                />
              </svg>
            </a>

            {/* Contacto (o CV, lo que quieras) */}
            <a
              href="/contacto"
              class="nav-pill__btn"
            >
              <span class="sr-only">Contacto</span>
              <svg
                class="h-5 w-5"
                stroke="currentColor"
                fill="none"
                stroke-width="2"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path
                  d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
                ></path>
              </svg>
            </a>
          </div>

          {/* Switch de tema */}
          <ThemeSwitch />
        </div>
      </nav>
    </header>

    <main>
      <slot />
    </main>
  </body>
</html>

<style>
  /* Sombra distinta para tema claro / oscuro */
  :global(.nav-pill) {
    box-shadow:
      0 5px 15px rgba(15, 23, 42, 0.45),
      0 10px 30px rgba(56, 189, 248, 0.45);
  }

  :global(.dark .nav-pill) {
    box-shadow:
      0 5px 18px rgba(0, 0, 0, 0.7),
      0 10px 32px rgba(59, 130, 246, 0.55);
  }

  :global(.nav-pill__btn) {
    @apply inline-flex h-9 w-9 items-center justify-center rounded-full transition
      hover:-translate-y-0.5 hover:bg-white/40 dark:hover:bg-slate-700/70;
  }
</style>
